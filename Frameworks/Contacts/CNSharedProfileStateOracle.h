//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3628.0.0.0.0
//
#ifndef CNSharedProfileStateOracle_h
#define CNSharedProfileStateOracle_h
@import Foundation;

#include "CNContact.h"
#include "CNContactImageStore.h"
#include "CNContactPosterStore.h"
#include "CNContactStore.h"

@class CNUnfairLock, IMNickname, IMNicknameProvider;

@interface CNSharedProfileStateOracle : NSObject

@property (retain, nonatomic) CNContact *contact;
@property (nonatomic) BOOL shouldContactBeRefetched;
@property (readonly, nonatomic) CNUnfairLock *contactLock;
@property (retain, nonatomic) CNContactStore *contactStore;
@property (retain, nonatomic) IMNickname *archivedNickname;
@property (retain, nonatomic) IMNickname *currentNickname;
@property (retain, nonatomic) IMNickname *pendingNickname;
@property (retain, nonatomic) CNContactImageStore *recentContactImageStore;
@property (retain, nonatomic) CNContactPosterStore *recentPosterStore;
@property (retain, nonatomic) IMNicknameProvider *nicknameProvider;

/* class methods */
+ (id)log;
+ (id)descriptorForRequiredKeys;
+ (BOOL)nicknames:(id)nicknames areValidForContact:(id)contact;
+ (id)refetchedContactIfNeededWithRequiredKeys:(id)keys contactStore:(id)store;
+ (unsigned long long)effectiveStateForContact:(id)contact;
+ (BOOL)isFeatureEnabled;
+ (BOOL)shouldBypassPersistenceCheck;
+ (BOOL)shouldAutoUpdateUndeterminedWithPhoto;
+ (BOOL)shouldAutoUpdateUndeterminedWithoutPhoto;
+ (unsigned long long)globalSharedProfileUpdateState;
+ (BOOL)contactIsInAutoUpdateState:(id)state;
+ (BOOL)isAutoUpdateState:(unsigned long long)state;
+ (BOOL)isTinker;
+ (BOOL)shouldSaveCurrentPoster:(id)poster toRecentsForContact:(id)contact;

/* instance methods */
- (id)initWithContact:(id)contact contactStore:(id)store;
- (id)initWithContact:(id)contact contactStore:(id)store archivedNickname:(id)nickname currentNickname:(id)nickname pendingNickname:(id)nickname;
- (BOOL)effectiveStateForContactIsAutoUpdate;
- (unsigned long long)effectiveStateForContact;
- (id)availableActionTypesForEffectiveState;
- (unsigned long long)bannerActionTypeForEffectiveState;
- (BOOL)canShowRevertToPreviousBannerForEffectiveState:(unsigned long long)state;
- (id)targetProfileForActionType:(unsigned long long)type;
- (BOOL)shouldPerformTransitionAnimation;
- (unsigned long long)avatarViewAnimationTypeForEffectiveState;
- (BOOL)hasPendingWallpaperTransition;
- (BOOL)contactRequiresUpdateForActionType:(unsigned long long)type;
- (id)updateContactForActionType:(unsigned long long)type error:(id *)error;
- (id)updateContactAndNicknamesForActionType:(unsigned long long)type error:(id *)error;
- (id)updateContactForAutoUpdateWithError:(id *)error;
- (id)updateContactAndNicknamesForAutoUpdateWithError:(id *)error;
- (id)updateContactForDeclinedActionType:(unsigned long long)type error:(id *)error;
- (id)updateContactAndNicknamesForDeclinedActionType:(unsigned long long)type error:(id *)error;
- (void)markArchivedNicknameAsIgnored;
- (BOOL)saveUpdatedContact:(id)contact error:(id *)error;
- (void)updateOracleContactAndNicknamesWithUpdatedContact:(id)contact;
- (BOOL)didChangePhotoOrWallpaper;
- (BOOL)isRevertBannerExpired;
- (double)revertBannerMaxDisplayInterval;
- (BOOL)isRevertToPreviousExpired;
- (double)revertToPreviousMaxDisplayInterval;
- (BOOL)currentNicknameHasValidVisualIdentityData;
- (BOOL)pendingNicknameHasValidVisualIdentityData;
- (BOOL)nicknameHasValidVisualIdentityData:(id)data;
- (id)lastRecentContactImage;
- (id)lastRecentPoster;
- (void)saveCurrentAvatarPosterPairToRecents;
- (void)saveContactImage:(id)image;
- (void)saveContactImage:(id)image withPairedPoster:(id)poster;
- (void)saveContactPoster:(id)poster;
@end

#endif /* CNSharedProfileStateOracle_h */
