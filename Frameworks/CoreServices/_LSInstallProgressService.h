//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1299.2.3.1.0
//
#ifndef _LSInstallProgressService_h
#define _LSInstallProgressService_h
@import Foundation;

#include "LSInstallProgressList.h"
#include "NSXPCListenerDelegate-Protocol.h"

@class NSArray, NSMutableArray, NSMutableDictionary, NSMutableOrderedSet, NSMutableSet, NSString;
@protocol OS_dispatch_queue, OS_dispatch_source;

@interface _LSInstallProgressService : NSObject<NSXPCListenerDelegate> {
  /* instance variables */
  NSMutableSet *_observers;
  LSInstallProgressList *_progresses;
  NSMutableSet *_publishingStrings;
  NSMutableDictionary *_installIndexes;
  NSMutableOrderedSet *_orderedInstalls;
  NSMutableSet *_inactiveInstalls;
  NSMutableDictionary *_installTypes;
  NSObject<OS_dispatch_queue> *_installControlsQueue;
  NSObject<OS_dispatch_queue> *_observersQueue;
  NSArray *_journalledNotificationsToReplay;
  NSMutableArray *_startupJournalledNotifications;
  BOOL _replayingJournalToNewClients;
  NSObject<OS_dispatch_source> *_progressProportionsSaveTimerSource;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _progressProportionsLock;
  NSMutableDictionary *_progressProportions;
  BOOL _usingNetwork;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)sharedInstance;
+ (void)beginListening;
+ (int)notificationTypeForOperation:(unsigned long long)operation;

/* instance methods */
- (id)init;
- (id)_LSFindPlaceholderApplications;
- (void)restoreInactiveInstalls;
- (BOOL)listener:(id)listener shouldAcceptNewConnection:(id)connection;
- (void)addObserver:(id)observer;
- (void)removeObserver:(id)observer;
- (void)getMaxProgressPhaseUnitsForLoading:(int *)loading restoring:(int *)restoring installing:(int *)installing essentialAssets:(int *)assets forAppProxy:(id)proxy;
- (unsigned long long)finalInstallPhaseForAppProxy:(id)proxy;
- (void)observeValueForKeyPath:(id)path ofObject:(id)object change:(id)change context:(void *)context;
- (id)parentProgressForApplication:(id)application andPhase:(unsigned long long)phase isActive:(BOOL)active;
- (void)createInstallProgressForApplication:(id)application withPhase:(unsigned long long)phase andPublishingString:(id)string reply:(id /* block */)reply;
- (void)rebuildInstallIndexes;
- (void)installationEndedForApplication:(id)application withState:(unsigned long long)state;
- (void)installationFailedForApplication:(id)application;
- (void)_placeholderIconUpdatedForApp:(id)app;
- (void)_placeholdersUninstalled:(id)uninstalled;
- (void)sendNotification:(id)notification ForPlugins:(id)plugins;
- (void)sendNotification:(id)notification forApplicationExtensionRecords:(id)records;
- (SEL)observerSelectorForNotification:(int)notification;
- (void)sendNotification:(int)notification forAppProxies:(id)proxies Plugins:(BOOL)plugins completion:(id /* block */)completion;
- (void)sendDatabaseRebuiltNotificationToObserver:(id)observer;
- (void)sendDatabaseRebuiltNotification;
- (id)_prepareApplicationProxiesForNotification:(int)notification identifiers:(id)identifiers withPlugins:(BOOL)plugins;
- (void)sendNotification:(int)notification forApps:(id)apps withPlugins:(BOOL)plugins completion:(id /* block */)completion;
- (void)loadProportions;
- (void)saveProportions;
- (void)coalesceProportionsSave;
- (void)discardProportionsForBundleID:(id)id;
- (id)progressProportionsForBundleID:(id)id;
- (void)setProgressProportionsByPhase:(id)phase forInstallOfApplicationWithIdentifier:(id)identifier completion:(id /* block */)completion;
- (void)sendNetworkUsageChangedNotification;
- (void)addSendNotificationFenceWithTimeout:(double)timeout fenceBlock:(id /* block */)block;
- (id)loadJournalledNotificationsFromDisk;
- (void)performJournalRecovery;
- (void)dispatchJournalledNotificationsToConnectedClients;
- (void)directlySendNotification:(int)notification withProxies:(id)proxies toObserverProxy:(id)proxy;
- (void)directlySendNotification:(int)notification withProxies:(id)proxies toObserver:(id)observer;
- (void)dispatchJournalledNotificationsToObserver:(id)observer;
@end

#endif /* _LSInstallProgressService_h */
