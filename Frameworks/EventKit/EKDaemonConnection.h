//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1870.2.1.0.0
//
#ifndef EKDaemonConnection_h
#define EKDaemonConnection_h
@import Foundation;

#include "CADClientInterface-Protocol.h"
#include "CADInterface-Protocol.h"
#include "CADXPCProxyHelperDelegate-Protocol.h"
#include "EKAuthStatusChecker-Protocol.h"
#include "EKDaemonConnectionDelegate-Protocol.h"

@class CADDatabaseInitializationOptions, NSMutableDictionary, NSString, NSXPCConnection;
@protocol OS_dispatch_queue;

@interface EKDaemonConnection : NSObject<CADClientInterface, CADXPCProxyHelperDelegate, EKAuthStatusChecker> {
  /* instance variables */
  NSObject<OS_dispatch_queue> *_connectionLock;
  NSObject<CADInterface> *_remoteOperationProxy;
  NSObject<CADInterface> *_syncRemoteOperationProxy;
  NSObject<OS_dispatch_queue> *_replyHandlerLock;
  NSMutableDictionary *_cancellableOperations;
  unsigned int _nextCancellationToken;
  BOOL _registeredForStartNote;
  BOOL _wasAbortedDueToExcessiveConnctions;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _internalStateLock;
  BOOL _accessDetermined;
  BOOL _databaseRestoreGenerationHasEverChangedSignificantly;
}

@property (nonatomic) BOOL hasEverConnected;
@property (readonly, retain, nonatomic) NSXPCConnection *xpcConnection;
@property (readonly, retain, nonatomic) NSObject<CADInterface> *CADOperationProxy;
@property (readonly, retain, nonatomic) NSObject<CADInterface> *CADOperationProxySync;
@property (weak) NSObject<EKDaemonConnectionDelegate> *delegate;
@property (retain, nonatomic) CADDatabaseInitializationOptions *initializationOptions;
@property (readonly, nonatomic) int databaseRestoreGeneration;
@property (readonly, nonatomic) long long eventAuthorization;
@property (readonly, nonatomic) long long remindersAuthorization;
@property (readonly, nonatomic) BOOL shouldValidateObjectIDs;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) int eventAccessLevel;
@property (readonly, nonatomic) BOOL hasAccessToReminders;

/* class methods */
+ (unsigned long long)maxNumberOfOpenConnections;
+ (void)addLivingDaemonConnection:(id)connection;
+ (id)anyAvailableDaemonConnection;
+ (BOOL)_tryRegisterNewConnection;
+ (void)_unregisterConnection;

/* instance methods */
- (id)init;
- (void)dealloc;
- (void)_createConnectionAndOperationProxyIfNeeded;
- (BOOL)_connectToServer;
- (void)disconnect;
- (void)_daemonRestarted;
- (void)databaseRestoreGenerationChangedByThisClient:(int)client;
- (unsigned int)addCancellableRemoteOperation:(id)operation;
- (void)removeCancellableRemoteOperation:(unsigned int)operation;
- (void)cancelRemoteOperation:(unsigned int)operation;
- (void)_finishAllRepliesOnServerDeath;
- (id)operationForToken:(unsigned int)token respondingToSelector:(SEL)selector finished:(BOOL)finished;
- (void)CADClientReceiveOccurrenceCacheSearchResults:(id)results forSearchToken:(unsigned int)token finished:(BOOL)finished;
- (void)CADClientReceiveDiagnosticsCollectionResults:(id)results forToken:(unsigned int)token finished:(BOOL)finished;
- (void)CADClientReceiveDatabaseIntegrityErrors:(id)errors;
- (void)clearCachedAuthStatus;
- (void)_eventAuthorization:(long long *)authorization remindersAuthorization:(long long *)authorization;
@end

#endif /* EKDaemonConnection_h */
