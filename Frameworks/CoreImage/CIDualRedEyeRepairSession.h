//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1420.3.0.0.0
//
#ifndef CIDualRedEyeRepairSession_h
#define CIDualRedEyeRepairSession_h
@import Foundation;

#include "CIContext.h"
#include "CIDualRedEyeRepairTuning.h"
#include "CIImage.h"
#include "CIRenderDestination.h"

@class NSArray, NSDate, NSDictionary;
@protocol MTLCommandBuffer, MTLCommandQueue, MTLTexture;

@interface CIDualRedEyeRepairSession : NSObject {
  /* instance variables */
  struct __CVBuffer * _primary;
  struct __CVBuffer * _secondary;
  struct __CVBuffer * _output;
}

@property (retain, nonatomic) NSArray *observations;
@property (retain, nonatomic) CIRenderDestination *destination;
@property (retain, nonatomic) CIImage *primaryImage;
@property (retain, nonatomic) CIImage *secondaryImage;
@property (retain, nonatomic) NSDictionary *metadata;
@property (retain, nonatomic) NSDictionary *imageProperties;
@property (retain, nonatomic) NSArray *faces;
@property (retain, nonatomic) CIDualRedEyeRepairTuning *tuning;
@property (retain, nonatomic) NSDate *timestamp;
@property (retain, nonatomic) NSDictionary *tuningParametersByPortType;
@property (retain, nonatomic) NSObject<MTLCommandBuffer> *commandBuffer;
@property (retain, nonatomic) CIContext *context;
@property (retain, nonatomic) NSObject<MTLCommandQueue> *commandQueue;
@property (retain, nonatomic) NSObject<MTLTexture> *primaryTexture;
@property (retain, nonatomic) NSObject<MTLTexture> *secondaryTexture;
@property (retain, nonatomic) NSObject<MTLTexture> *outputTexture;

/* class methods */
+ (id)_contextRGBAh;

/* instance methods */
- (id)init;
- (void)dealloc;
- (void)cleanupState;
- (BOOL)prewarm;
- (BOOL)prepareRepair;
- (BOOL)prepareRepairWithTuningParametersByPortType:(id)type;
- (BOOL)renderUsingPixelBuffers;
- (BOOL)renderUsingProvidedCommandQueue;
- (void)dumpInputs;
- (BOOL)validateRenderState;
- (int)validateSetPrimary;
- (int)validateRepair;
- (id)redEyeFaceFromObservation:(id)observation exifOrientation:(int)orientation;
- (void)customizeRepairFilter:(id)filter forFace:(id)face;
- (BOOL)repairFace:(id)face filter:(id)filter;
- (BOOL)setPrimary:(struct __CVBuffer *)primary observations:(id)observations metadata:(id)metadata;
- (BOOL)repairPrimaryWithSecondary:(struct __CVBuffer *)secondary;
- (BOOL)_repairPrimaryWithSecondary:(struct __CVBuffer *)secondary to:(struct __CVBuffer *)to;
- (void)dumpSecondary;
- (void)dumpObservation:(id)observation index:(int)index;
@end

#endif /* CIDualRedEyeRepairSession_h */
